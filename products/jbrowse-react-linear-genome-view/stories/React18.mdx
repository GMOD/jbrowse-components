import { Meta, Story } from '@storybook/blocks'
import { WithReact18 } from './JBrowseLinearGenomeView.stories'

<Meta title="React 18 with createRoot" />

## React 18 with createRoot

If you are using:

- web workers (see makeWorkerInstance docs)
- AND React 18+
- AND the createRoot API

then you will also want to pass a hydrateFn and createRootFn to createViewState
that corresponds to react-dom/client::hydrateRoot.

JBrowse will fallback to normal react-dom::hydrate if it is not specified, but
you will likely get more consistent react 18 behavior by specifying this.

The reason for all this is that JBrowse uses the hydrate function, but cannot
internally try to import 'react-dom/client' without causing chaos for users who
still use e.g. React v17

<Story of={WithReact18} />
