language: node_js
node_js:
  - 12
  - 11
  - 10
sudo: false

cache:
    - node_modules
    - yarn
script:
    - set -e
    - yarn lint
    - yarn test-ci
    - yarn tsc --noEmit
    - yarn build
    - BUILT_TESTS=1 yarn built-test-ci
    # - if .travis/build-condition.sh $TRAVIS_COMMIT_RANGE $PROJECT; then cd $PROJECT && . .travis.sh; else echo "$PROJECT is NOT being built"; fi
after_success:
    - bash <(curl -s https://codecov.io/bash)
