This is a major update to JBrowse that delivers a number of improvements

## New "Collapsed introns" view

Users can right-click a gene and launch a 'Collapsed introns' view that focuses
on just the exonic regions. The RNA-seq alignments work with this view also,
with sashimi arcs connecting across the different regions

<img width="1476" height="926" alt="Screenshot From 2025-12-10 22-36-47" src="https://github.com/user-attachments/assets/b5fb8b8f-a73c-42bd-84bf-458998fb4843" />

<img width="1476" height="584" alt="Screenshot From 2025-12-02 09-20-40" src="https://github.com/user-attachments/assets/0bd4475e-0f7e-4e09-b5ef-14977eaa2ca6" />

## New "Canvas features" track type

We have replaced the SVG feature renderer with a new HTML5 canvas feature
renderer. This has improved user experience and also comes with new
functionality including:

- Per-transcript mouseover and feature clicks
- Ability to show only the "Longest transcript" for gene glyphs with many
  subtranscripts
- Improved performance
- Directional chevrons

<img width="1289" height="459" alt="image" src="https://github.com/user-attachments/assets/ecf66226-64af-4eb4-b741-dc2ea4d10a96" />

Screenshot showing the "Longest transcript" option

## Alignments track performance improvements

Our BAM and CRAM parsers were updated with a variety of performance
optimizations. We analyzed the entire stack and added

- low level binary for parsing CIGAR strings
- using WASM for parsing
- using mosdepth style coverage calculations
- improved speed for deep RNA-seq data

And much more

## Alignments track mouseovers and new features

We also added many usability improvements to the alignments tracks like adding
the ability to mouseover and click individual insertions, mismatches, deletions,
etc.

<img width="1397" height="561" alt="image" src="https://github.com/user-attachments/assets/fdf6f957-a957-4004-b935-bd27ee04db22" />

Users can also optionally turn off drawing mismatches entirely...sometimes it's
not what you care to see!

## "Linked read display" improvements

In v3.7.0 we announced the "Linked read display" mode
(https://jbrowse.org/jb2/blog/2025/11/07/v3.7.0-release/#create-linked-read-display-for-alignments-tracks)
which connects paired end or split long reads. This new release allows drawing
mismatches on the reads, and generally behaves a lot like the normal alignments
track!

<img width="1458" height="908" alt="Screenshot From 2025-12-29 17-23-07" src="https://github.com/user-attachments/assets/d2fb12c0-de7c-42b1-94c7-bc38b00c8a87" />

Screenshot showing an inversion with split long reads (the red->blue->red chain
indicates a single split long read flipping orientation in the middle) and
paired-end short reads (blue and green reads indicate aberrant pairing)

## Display color legends on screen

We added the ability to show legends on a variety of display types, which will
help users understand the meaning of colors on the screen!

## "Save track data"

Users can now export data in the visible region in a variety of formats,
tailored to the track type and file type of interest. This was a commonly
requested feature, so we are excited to finally solve it

## Simplified configuration

Users no longer have to explicitly supply 'sequenceAdapter' to BAM and CRAM
files. It will infer the sequence adapter from the assembly. Anyone who directly
works with JBrowse configuration files will benefit from this simplification!

<img width="1325" height="623" alt="image" src="https://github.com/user-attachments/assets/7bf5cd2d-13c2-486e-b28d-3f49cf7d74fd" />

Screenshot showing a simplified config for a CRAM track

## Much faster load time for large tracklists

Previously, when a JBrowse instance had more than a couple thousand tracks, the
startup time would slow down dramatically. We made internal changes to our track
loading that now makes these load times virtually instant now! This was enabled
by making track configuration models instantiated only when the track is opened,
which plugin authors should be aware of

<img width="3000" height="1800" alt="load_time_comparison" src="https://github.com/user-attachments/assets/a436fe96-f62b-4414-b37d-6cd3af51717d" />

Graph showing the load time of different tracklist sizes in v3.7.0 and v4.0.0,
showing runaway showness with v3.7.0 after just a couple thousand tracks that is
now under control in v4.0.0

## New "Workspaces" feature for tiled window management!

We added the Dockview (https://dockview.dev) window manager to the app
interface, so you can now create left-right splits, top-bottom splits, new tabs,
and more in jbrowse web and desktop. This enables a large variety of extra
layouts compared with the previous vertical-stack-only limitation of previous
JBrowse 2 versions!

<img width="1861" height="926" alt="Screenshot From 2025-12-10 21-33-08" src="https://github.com/user-attachments/assets/b7c1e268-b7cc-425a-8b3c-093ed9fa8111" />

Screenshot showing left-right split

## Improved user-experience when side-scrolling

Wiggle and Hi-C tracks will now stay on the screen while new renderings (e.g.
change to y-axis scale) are re-computing. It is a subtle change that we hope
improves user-experience!

## Breaking changes

There are a large number of internal changes, and it would be hard to fully
enumerate all the changes, but some of the changes include

- Splitting renderProps (for webworker renderer) and renderingProps (main
  thread)
- Changing mobx-state-tree to @jbrowse/mobx-state-tree
  https://github.com/GMOD/mobx-state-tree
- Changing jexl to @jbrowse/jexl https://github.com/GMOD/jexl
- Removal of @jbrowse/plugin-svg, automatically remapping to
  CanvasFeatureRenderer
- Make all packages "pure-ESM", may affect node.js usage

A variety of other internal changes took place. If you see any problems after
migration, please let us know and we will be happy to work with you to help
